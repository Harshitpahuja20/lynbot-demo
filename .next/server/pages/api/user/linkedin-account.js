"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/user/linkedin-account";
exports.ids = ["pages/api/user/linkedin-account"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fuser%2Flinkedin-account&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cuser%5Clinkedin-account.ts&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fuser%2Flinkedin-account&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cuser%5Clinkedin-account.ts&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_user_linkedin_account_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\user\\linkedin-account.ts */ \"(api)/./pages/api/user/linkedin-account.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_user_linkedin_account_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_user_linkedin_account_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/user/linkedin-account\",\n        pathname: \"/api/user/linkedin-account\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_user_linkedin_account_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnVzZXIlMkZsaW5rZWRpbi1hY2NvdW50JnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUN1c2VyJTVDbGlua2VkaW4tYWNjb3VudC50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNvRTtBQUNwRTtBQUNBLGlFQUFlLHdFQUFLLENBQUMsZ0VBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLGdFQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL2x5bmNib3QtbmV4dGpzLz9kZmU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxcdXNlclxcXFxsaW5rZWRpbi1hY2NvdW50LnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvdXNlci9saW5rZWRpbi1hY2NvdW50XCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvdXNlci9saW5rZWRpbi1hY2NvdW50XCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fuser%2Flinkedin-account&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cuser%5Clinkedin-account.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: () => (/* binding */ getSupabaseClient),\n/* harmony export */   getSupabaseAdminClient: () => (/* binding */ getSupabaseAdminClient),\n/* harmony export */   getSupabaseClient: () => (/* binding */ getSupabaseClient),\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   supabaseAdmin: () => (/* binding */ supabaseAdmin)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n\n// Client instances (lazy initialization)\nlet _supabase = null;\nlet _supabaseAdmin = null;\nfunction getSupabaseClient() {\n    if (!_supabase) {\n        const supabaseUrl = \"https://djqtqxnvgjjeeazwnyqn.supabase.co\";\n        const supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRqcXRxeG52Z2pqZWVhendueXFuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE1NjM4OTUsImV4cCI6MjA3NzEzOTg5NX0.zQZax1gQYZSUc30y5iGscT7J9wjVQQCZODuUrc6hPzw\";\n        if (!supabaseUrl || !supabaseAnonKey) {\n            console.warn(\"Supabase environment variables not found. Please configure Supabase integration.\");\n            // Return a mock client that won't cause errors\n            return {\n                from: ()=>({\n                        select: ()=>Promise.resolve({\n                                data: [],\n                                error: null\n                            }),\n                        insert: ()=>Promise.resolve({\n                                data: null,\n                                error: {\n                                    message: \"Supabase not configured\"\n                                }\n                            }),\n                        update: ()=>Promise.resolve({\n                                data: null,\n                                error: {\n                                    message: \"Supabase not configured\"\n                                }\n                            }),\n                        delete: ()=>Promise.resolve({\n                                data: null,\n                                error: {\n                                    message: \"Supabase not configured\"\n                                }\n                            })\n                    })\n            };\n        }\n        _supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n    }\n    return _supabase;\n}\nfunction getSupabaseAdminClient() {\n    if (!_supabaseAdmin) {\n        const supabaseUrl = \"https://djqtqxnvgjjeeazwnyqn.supabase.co\";\n        const supabaseServiceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n        if (!supabaseUrl || !supabaseServiceRoleKey) {\n            console.warn(\"Supabase admin environment variables not found. Please configure Supabase integration.\");\n            // Return a mock client that won't cause errors\n            return {\n                from: ()=>({\n                        select: ()=>Promise.resolve({\n                                data: [],\n                                error: null\n                            }),\n                        insert: ()=>Promise.resolve({\n                                data: null,\n                                error: {\n                                    message: \"Supabase not configured\"\n                                }\n                            }),\n                        update: ()=>Promise.resolve({\n                                data: null,\n                                error: {\n                                    message: \"Supabase not configured\"\n                                }\n                            }),\n                        delete: ()=>Promise.resolve({\n                                data: null,\n                                error: {\n                                    message: \"Supabase not configured\"\n                                }\n                            })\n                    })\n            };\n        }\n        _supabaseAdmin = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseServiceRoleKey);\n    }\n    return _supabaseAdmin;\n}\n// Export lazy getters for backward compatibility\nconst supabase = new Proxy({}, {\n    get (target, prop) {\n        return getSupabaseClient()[prop];\n    }\n});\nconst supabaseAdmin = new Proxy({}, {\n    get (target, prop) {\n        return getSupabaseAdminClient()[prop];\n    }\n});\n// Export the client directly for compatibility with utils/supabase.ts\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvc3VwYWJhc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFxRDtBQUdyRCx5Q0FBeUM7QUFDekMsSUFBSUMsWUFBbUM7QUFDdkMsSUFBSUMsaUJBQXdDO0FBRXJDLFNBQVNDO0lBQ2QsSUFBSSxDQUFDRixXQUFXO1FBQ2QsTUFBTUcsY0FBY0MsMENBQW9DO1FBQ3hELE1BQU1HLGtCQUFrQkgsa05BQXlDO1FBRWpFLElBQUksQ0FBQ0QsZUFBZSxDQUFDSSxpQkFBaUI7WUFDcENFLFFBQVFDLElBQUksQ0FBQztZQUNiLCtDQUErQztZQUMvQyxPQUFPO2dCQUNMQyxNQUFNLElBQU87d0JBQ1hDLFFBQVEsSUFBTUMsUUFBUUMsT0FBTyxDQUFDO2dDQUFFQyxNQUFNLEVBQUU7Z0NBQUVDLE9BQU87NEJBQUs7d0JBQ3REQyxRQUFRLElBQU1KLFFBQVFDLE9BQU8sQ0FBQztnQ0FBRUMsTUFBTTtnQ0FBTUMsT0FBTztvQ0FBRUUsU0FBUztnQ0FBMEI7NEJBQUU7d0JBQzFGQyxRQUFRLElBQU1OLFFBQVFDLE9BQU8sQ0FBQztnQ0FBRUMsTUFBTTtnQ0FBTUMsT0FBTztvQ0FBRUUsU0FBUztnQ0FBMEI7NEJBQUU7d0JBQzFGRSxRQUFRLElBQU1QLFFBQVFDLE9BQU8sQ0FBQztnQ0FBRUMsTUFBTTtnQ0FBTUMsT0FBTztvQ0FBRUUsU0FBUztnQ0FBMEI7NEJBQUU7b0JBQzVGO1lBQ0Y7UUFDRjtRQUVBbEIsWUFBWUQsbUVBQVlBLENBQUNJLGFBQWFJO0lBQ3hDO0lBRUEsT0FBT1A7QUFDVDtBQUVPLFNBQVNxQjtJQUNkLElBQUksQ0FBQ3BCLGdCQUFnQjtRQUNuQixNQUFNRSxjQUFjQywwQ0FBb0M7UUFDeEQsTUFBTWtCLHlCQUF5QmxCLFFBQVFDLEdBQUcsQ0FBQ2tCLHlCQUF5QjtRQUVwRSxJQUFJLENBQUNwQixlQUFlLENBQUNtQix3QkFBd0I7WUFDM0NiLFFBQVFDLElBQUksQ0FBQztZQUNiLCtDQUErQztZQUMvQyxPQUFPO2dCQUNMQyxNQUFNLElBQU87d0JBQ1hDLFFBQVEsSUFBTUMsUUFBUUMsT0FBTyxDQUFDO2dDQUFFQyxNQUFNLEVBQUU7Z0NBQUVDLE9BQU87NEJBQUs7d0JBQ3REQyxRQUFRLElBQU1KLFFBQVFDLE9BQU8sQ0FBQztnQ0FBRUMsTUFBTTtnQ0FBTUMsT0FBTztvQ0FBRUUsU0FBUztnQ0FBMEI7NEJBQUU7d0JBQzFGQyxRQUFRLElBQU1OLFFBQVFDLE9BQU8sQ0FBQztnQ0FBRUMsTUFBTTtnQ0FBTUMsT0FBTztvQ0FBRUUsU0FBUztnQ0FBMEI7NEJBQUU7d0JBQzFGRSxRQUFRLElBQU1QLFFBQVFDLE9BQU8sQ0FBQztnQ0FBRUMsTUFBTTtnQ0FBTUMsT0FBTztvQ0FBRUUsU0FBUztnQ0FBMEI7NEJBQUU7b0JBQzVGO1lBQ0Y7UUFDRjtRQUVBakIsaUJBQWlCRixtRUFBWUEsQ0FBQ0ksYUFBYW1CO0lBQzdDO0lBRUEsT0FBT3JCO0FBQ1Q7QUFFQSxpREFBaUQ7QUFDMUMsTUFBTXVCLFdBQVcsSUFBSUMsTUFBTSxDQUFDLEdBQXFCO0lBQ3REQyxLQUFJQyxNQUFNLEVBQUVDLElBQUk7UUFDZCxPQUFPMUIsbUJBQW1CLENBQUMwQixLQUE2QjtJQUMxRDtBQUNGLEdBQUc7QUFFSSxNQUFNQyxnQkFBZ0IsSUFBSUosTUFBTSxDQUFDLEdBQXFCO0lBQzNEQyxLQUFJQyxNQUFNLEVBQUVDLElBQUk7UUFDZCxPQUFPUCx3QkFBd0IsQ0FBQ08sS0FBNkI7SUFDL0Q7QUFDRixHQUFHO0FBRUgsc0VBQXNFO0FBQ3pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbHluY2JvdC1uZXh0anMvLi9saWIvc3VwYWJhc2UudHM/Yzk5ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xyXG5pbXBvcnQgdHlwZSB7IFN1cGFiYXNlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcclxuXHJcbi8vIENsaWVudCBpbnN0YW5jZXMgKGxhenkgaW5pdGlhbGl6YXRpb24pXHJcbmxldCBfc3VwYWJhc2U6IFN1cGFiYXNlQ2xpZW50IHwgbnVsbCA9IG51bGw7XHJcbmxldCBfc3VwYWJhc2VBZG1pbjogU3VwYWJhc2VDbGllbnQgfCBudWxsID0gbnVsbDtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdXBhYmFzZUNsaWVudCgpOiBTdXBhYmFzZUNsaWVudCB7XHJcbiAgaWYgKCFfc3VwYWJhc2UpIHtcclxuICAgIGNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMO1xyXG4gICAgY29uc3Qgc3VwYWJhc2VBbm9uS2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVk7XHJcblxyXG4gICAgaWYgKCFzdXBhYmFzZVVybCB8fCAhc3VwYWJhc2VBbm9uS2V5KSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignU3VwYWJhc2UgZW52aXJvbm1lbnQgdmFyaWFibGVzIG5vdCBmb3VuZC4gUGxlYXNlIGNvbmZpZ3VyZSBTdXBhYmFzZSBpbnRlZ3JhdGlvbi4nKTtcclxuICAgICAgLy8gUmV0dXJuIGEgbW9jayBjbGllbnQgdGhhdCB3b24ndCBjYXVzZSBlcnJvcnNcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBmcm9tOiAoKSA9PiAoe1xyXG4gICAgICAgICAgc2VsZWN0OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBkYXRhOiBbXSwgZXJyb3I6IG51bGwgfSksXHJcbiAgICAgICAgICBpbnNlcnQ6ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IGRhdGE6IG51bGwsIGVycm9yOiB7IG1lc3NhZ2U6ICdTdXBhYmFzZSBub3QgY29uZmlndXJlZCcgfSB9KSxcclxuICAgICAgICAgIHVwZGF0ZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgZGF0YTogbnVsbCwgZXJyb3I6IHsgbWVzc2FnZTogJ1N1cGFiYXNlIG5vdCBjb25maWd1cmVkJyB9IH0pLFxyXG4gICAgICAgICAgZGVsZXRlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBkYXRhOiBudWxsLCBlcnJvcjogeyBtZXNzYWdlOiAnU3VwYWJhc2Ugbm90IGNvbmZpZ3VyZWQnIH0gfSlcclxuICAgICAgICB9KVxyXG4gICAgICB9IGFzIGFueTtcclxuICAgIH1cclxuXHJcbiAgICBfc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlQW5vbktleSk7XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBfc3VwYWJhc2U7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdXBhYmFzZUFkbWluQ2xpZW50KCk6IFN1cGFiYXNlQ2xpZW50IHtcclxuICBpZiAoIV9zdXBhYmFzZUFkbWluKSB7XHJcbiAgICBjb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTDtcclxuICAgIGNvbnN0IHN1cGFiYXNlU2VydmljZVJvbGVLZXkgPSBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZO1xyXG5cclxuICAgIGlmICghc3VwYWJhc2VVcmwgfHwgIXN1cGFiYXNlU2VydmljZVJvbGVLZXkpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdTdXBhYmFzZSBhZG1pbiBlbnZpcm9ubWVudCB2YXJpYWJsZXMgbm90IGZvdW5kLiBQbGVhc2UgY29uZmlndXJlIFN1cGFiYXNlIGludGVncmF0aW9uLicpO1xyXG4gICAgICAvLyBSZXR1cm4gYSBtb2NrIGNsaWVudCB0aGF0IHdvbid0IGNhdXNlIGVycm9yc1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGZyb206ICgpID0+ICh7XHJcbiAgICAgICAgICBzZWxlY3Q6ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IGRhdGE6IFtdLCBlcnJvcjogbnVsbCB9KSxcclxuICAgICAgICAgIGluc2VydDogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgZGF0YTogbnVsbCwgZXJyb3I6IHsgbWVzc2FnZTogJ1N1cGFiYXNlIG5vdCBjb25maWd1cmVkJyB9IH0pLFxyXG4gICAgICAgICAgdXBkYXRlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBkYXRhOiBudWxsLCBlcnJvcjogeyBtZXNzYWdlOiAnU3VwYWJhc2Ugbm90IGNvbmZpZ3VyZWQnIH0gfSksXHJcbiAgICAgICAgICBkZWxldGU6ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IGRhdGE6IG51bGwsIGVycm9yOiB7IG1lc3NhZ2U6ICdTdXBhYmFzZSBub3QgY29uZmlndXJlZCcgfSB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0gYXMgYW55O1xyXG4gICAgfVxyXG5cclxuICAgIF9zdXBhYmFzZUFkbWluID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZVNlcnZpY2VSb2xlS2V5KTtcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIF9zdXBhYmFzZUFkbWluO1xyXG59XHJcblxyXG4vLyBFeHBvcnQgbGF6eSBnZXR0ZXJzIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XHJcbmV4cG9ydCBjb25zdCBzdXBhYmFzZSA9IG5ldyBQcm94eSh7fSBhcyBTdXBhYmFzZUNsaWVudCwge1xyXG4gIGdldCh0YXJnZXQsIHByb3ApIHtcclxuICAgIHJldHVybiBnZXRTdXBhYmFzZUNsaWVudCgpW3Byb3AgYXMga2V5b2YgU3VwYWJhc2VDbGllbnRdO1xyXG4gIH1cclxufSk7XHJcblxyXG5leHBvcnQgY29uc3Qgc3VwYWJhc2VBZG1pbiA9IG5ldyBQcm94eSh7fSBhcyBTdXBhYmFzZUNsaWVudCwge1xyXG4gIGdldCh0YXJnZXQsIHByb3ApIHtcclxuICAgIHJldHVybiBnZXRTdXBhYmFzZUFkbWluQ2xpZW50KClbcHJvcCBhcyBrZXlvZiBTdXBhYmFzZUNsaWVudF07XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vIEV4cG9ydCB0aGUgY2xpZW50IGRpcmVjdGx5IGZvciBjb21wYXRpYmlsaXR5IHdpdGggdXRpbHMvc3VwYWJhc2UudHNcclxuZXhwb3J0IHsgZ2V0U3VwYWJhc2VDbGllbnQgYXMgY3JlYXRlQ2xpZW50IH07Il0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsIl9zdXBhYmFzZSIsIl9zdXBhYmFzZUFkbWluIiwiZ2V0U3VwYWJhc2VDbGllbnQiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZUFub25LZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImNvbnNvbGUiLCJ3YXJuIiwiZnJvbSIsInNlbGVjdCIsIlByb21pc2UiLCJyZXNvbHZlIiwiZGF0YSIsImVycm9yIiwiaW5zZXJ0IiwibWVzc2FnZSIsInVwZGF0ZSIsImRlbGV0ZSIsImdldFN1cGFiYXNlQWRtaW5DbGllbnQiLCJzdXBhYmFzZVNlcnZpY2VSb2xlS2V5IiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsInN1cGFiYXNlIiwiUHJveHkiLCJnZXQiLCJ0YXJnZXQiLCJwcm9wIiwic3VwYWJhc2VBZG1pbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/supabase.ts\n");

/***/ }),

/***/ "(api)/./pages/api/user/linkedin-account.ts":
/*!********************************************!*\
  !*** ./pages/api/user/linkedin-account.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/supabase */ \"(api)/./lib/supabase.ts\");\n\n\n\nconst JWT_SECRET = process.env.JWT_SECRET || \"your-secret-key\";\nconst NEST_API_URL = process.env.NEST_API_URL || \"http://localhost:4000\";\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        res.setHeader(\"Allow\", [\n            \"POST\"\n        ]);\n        return res.status(405).json({\n            success: false,\n            error: `Method ${req.method} not allowed`\n        });\n    }\n    try {\n        // Authenticate user\n        const token = req.headers.authorization?.replace(\"Bearer \", \"\");\n        if (!token) {\n            return res.status(401).json({\n                success: false,\n                error: \"Authentication required\"\n            });\n        }\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, JWT_SECRET);\n        const userId = decoded.id;\n        const { email, password, sessionToken, useUnipile, unipile_account_id } = req.body;\n        // Handle Unipile integration\n        if (useUnipile) {\n            if (!unipile_account_id) {\n                return res.status(400).json({\n                    success: false,\n                    error: \"Unipile account ID required\"\n                });\n            }\n            const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.getSupabaseAdminClient)();\n            const { data: user, error: userError } = await supabase.from(\"users\").select(\"*\").eq(\"id\", userId).single();\n            if (userError || !user) {\n                return res.status(404).json({\n                    success: false,\n                    error: \"User not found\"\n                });\n            }\n            const updatedLinkedInAccounts = [\n                ...user.linkedin_accounts || []\n            ];\n            const existingIndex = updatedLinkedInAccounts.findIndex((acc)=>acc.unipile_account_id === unipile_account_id);\n            const accountData = {\n                unipile_account_id,\n                provider: \"unipile\",\n                isActive: true,\n                lastLogin: new Date().toISOString(),\n                accountHealth: {\n                    status: \"healthy\",\n                    lastCheck: new Date().toISOString(),\n                    restrictions: []\n                }\n            };\n            if (existingIndex >= 0) {\n                updatedLinkedInAccounts[existingIndex] = {\n                    ...updatedLinkedInAccounts[existingIndex],\n                    ...accountData\n                };\n            } else {\n                updatedLinkedInAccounts.push(accountData);\n            }\n            const { error: updateError } = await supabase.from(\"users\").update({\n                linkedin_accounts: updatedLinkedInAccounts\n            }).eq(\"id\", userId);\n            if (updateError) {\n                throw new Error(\"Failed to save LinkedIn account\");\n            }\n            return res.json({\n                success: true,\n                message: \"LinkedIn account connected via Unipile\"\n            });\n        }\n        // Legacy: Handle email/password authentication\n        if (!email || !password) {\n            return res.status(400).json({\n                success: false,\n                error: \"LinkedIn email and password are required\"\n            });\n        }\n        // Validate email format\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!emailRegex.test(email)) {\n            return res.status(400).json({\n                success: false,\n                error: \"Please enter a valid email address\"\n            });\n        }\n        // Encrypt the password\n        const salt = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().genSalt(12);\n        const encryptedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().hash(password, salt);\n        // Store session token as-is for LinkedIn automation\n        const rawSessionToken = sessionToken || null;\n        // Find user and update LinkedIn account\n        const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.getSupabaseAdminClient)();\n        const { data: user, error: userError } = await supabase.from(\"users\").select(\"*\").eq(\"id\", userId).single();\n        if (userError || !user) {\n            return res.status(404).json({\n                success: false,\n                error: \"User not found\"\n            });\n        }\n        // Check if LinkedIn account with this email already exists\n        const existingAccountIndex = user.linkedin_accounts.findIndex((account)=>account.email === email);\n        const updatedLinkedInAccounts = [\n            ...user.linkedin_accounts\n        ];\n        if (existingAccountIndex >= 0) {\n            // Update existing account\n            updatedLinkedInAccounts[existingAccountIndex] = {\n                ...updatedLinkedInAccounts[existingAccountIndex],\n                encryptedPassword: encryptedPassword,\n                isActive: true,\n                sessionToken: rawSessionToken,\n                lastLogin: new Date().toISOString()\n            };\n        } else {\n            // Add new LinkedIn account\n            updatedLinkedInAccounts.push({\n                email: email,\n                encryptedPassword: encryptedPassword,\n                isActive: true,\n                sessionToken: rawSessionToken,\n                lastLogin: new Date().toISOString(),\n                accountHealth: {\n                    status: \"healthy\",\n                    lastCheck: new Date().toISOString(),\n                    restrictions: []\n                },\n                dailyLimits: {\n                    connections: 50,\n                    messages: 25,\n                    profileViews: 100\n                },\n                dailyUsage: {\n                    connections: 0,\n                    messages: 0,\n                    profileViews: 0,\n                    lastReset: new Date().toISOString()\n                }\n            });\n        }\n        const { error: updateError } = await supabase.from(\"users\").update({\n            linkedin_accounts: updatedLinkedInAccounts\n        }).eq(\"id\", userId);\n        if (updateError) {\n            console.error(\"Error updating user:\", updateError);\n            return res.status(500).json({\n                success: false,\n                error: \"Failed to save LinkedIn account\"\n            });\n        }\n        console.log(`LinkedIn account saved for user: ${user.email}`);\n        res.json({\n            success: true,\n            message: \"LinkedIn account saved successfully\"\n        });\n    } catch (error) {\n        console.error(\"Error saving LinkedIn account:\", error);\n        res.status(500).json({\n            success: false,\n            error: \"Failed to save LinkedIn account\"\n        });\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handler);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvdXNlci9saW5rZWRpbi1hY2NvdW50LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUUrQjtBQUNEO0FBQ2lDO0FBRS9ELE1BQU1HLGFBQWFDLFFBQVFDLEdBQUcsQ0FBQ0YsVUFBVSxJQUFJO0FBQzdDLE1BQU1HLGVBQWVGLFFBQVFDLEdBQUcsQ0FBQ0MsWUFBWSxJQUFJO0FBRWpELGVBQWVDLFFBQVFDLEdBQW1CLEVBQUVDLEdBQW9CO0lBQzlELElBQUlELElBQUlFLE1BQU0sS0FBSyxRQUFRO1FBQ3pCRCxJQUFJRSxTQUFTLENBQUMsU0FBUztZQUFDO1NBQU87UUFDL0IsT0FBT0YsSUFBSUcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUMxQkMsU0FBUztZQUNUQyxPQUFPLENBQUMsT0FBTyxFQUFFUCxJQUFJRSxNQUFNLENBQUMsWUFBWSxDQUFDO1FBQzNDO0lBQ0Y7SUFFQSxJQUFJO1FBQ0Ysb0JBQW9CO1FBQ3BCLE1BQU1NLFFBQVFSLElBQUlTLE9BQU8sQ0FBQ0MsYUFBYSxFQUFFQyxRQUFRLFdBQVc7UUFDNUQsSUFBSSxDQUFDSCxPQUFPO1lBQ1YsT0FBT1AsSUFBSUcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFDMUJDLFNBQVM7Z0JBQ1RDLE9BQU87WUFDVDtRQUNGO1FBRUEsTUFBTUssVUFBVXBCLDBEQUFVLENBQUNnQixPQUFPYjtRQUNsQyxNQUFNbUIsU0FBU0YsUUFBUUcsRUFBRTtRQUV6QixNQUFNLEVBQUVDLEtBQUssRUFBRUMsUUFBUSxFQUFFQyxZQUFZLEVBQUVDLFVBQVUsRUFBRUMsa0JBQWtCLEVBQUUsR0FBR3BCLElBQUlxQixJQUFJO1FBRWxGLDZCQUE2QjtRQUM3QixJQUFJRixZQUFZO1lBQ2QsSUFBSSxDQUFDQyxvQkFBb0I7Z0JBQ3ZCLE9BQU9uQixJQUFJRyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO29CQUMxQkMsU0FBUztvQkFDVEMsT0FBTztnQkFDVDtZQUNGO1lBRUEsTUFB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TztRQUNkeUQsUUFBUXpELEtBQUssQ0FBQyxrQ0FBa0NBO1FBQ2hETixJQUFJRyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQ25CQyxTQUFTO1lBQ1RDLE9BQU87UUFDVDtJQUNGO0FBQ0Y7QUFFQSxpRUFBZVIsT0FBT0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2x5bmNib3QtbmV4dGpzLy4vcGFnZXMvYXBpL3VzZXIvbGlua2VkaW4tYWNjb3VudC50cz8xM2U4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xyXG5pbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCB9IGZyb20gJ25leHQnO1xyXG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xyXG5pbXBvcnQgeyBnZXRTdXBhYmFzZUFkbWluQ2xpZW50IH0gZnJvbSAnLi4vLi4vLi4vbGliL3N1cGFiYXNlJztcclxuXHJcbmNvbnN0IEpXVF9TRUNSRVQgPSBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIHx8ICd5b3VyLXNlY3JldC1rZXknO1xyXG5jb25zdCBORVNUX0FQSV9VUkwgPSBwcm9jZXNzLmVudi5ORVNUX0FQSV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAwMCc7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XHJcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdQT1NUJykge1xyXG4gICAgcmVzLnNldEhlYWRlcignQWxsb3cnLCBbJ1BPU1QnXSk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGBNZXRob2QgJHtyZXEubWV0aG9kfSBub3QgYWxsb3dlZGBcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIC8vIEF1dGhlbnRpY2F0ZSB1c2VyXHJcbiAgICBjb25zdCB0b2tlbiA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24/LnJlcGxhY2UoJ0JlYXJlciAnLCAnJyk7XHJcbiAgICBpZiAoIXRva2VuKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgZXJyb3I6ICdBdXRoZW50aWNhdGlvbiByZXF1aXJlZCdcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIEpXVF9TRUNSRVQpIGFzIGFueTtcclxuICAgIGNvbnN0IHVzZXJJZCA9IGRlY29kZWQuaWQ7XHJcblxyXG4gICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQsIHNlc3Npb25Ub2tlbiwgdXNlVW5pcGlsZSwgdW5pcGlsZV9hY2NvdW50X2lkIH0gPSByZXEuYm9keTtcclxuXHJcbiAgICAvLyBIYW5kbGUgVW5pcGlsZSBpbnRlZ3JhdGlvblxyXG4gICAgaWYgKHVzZVVuaXBpbGUpIHtcclxuICAgICAgaWYgKCF1bmlwaWxlX2FjY291bnRfaWQpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICBlcnJvcjogJ1VuaXBpbGUgYWNjb3VudCBJRCByZXF1aXJlZCdcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZUFkbWluQ2xpZW50KCk7XHJcbiAgICAgIGNvbnN0IHsgZGF0YTogdXNlciwgZXJyb3I6IHVzZXJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgndXNlcnMnKVxyXG4gICAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAgIC5lcSgnaWQnLCB1c2VySWQpXHJcbiAgICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgICAgaWYgKHVzZXJFcnJvciB8fCAhdXNlcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1VzZXIgbm90IGZvdW5kJyB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgdXBkYXRlZExpbmtlZEluQWNjb3VudHMgPSBbLi4uKHVzZXIubGlua2VkaW5fYWNjb3VudHMgfHwgW10pXTtcclxuICAgICAgY29uc3QgZXhpc3RpbmdJbmRleCA9IHVwZGF0ZWRMaW5rZWRJbkFjY291bnRzLmZpbmRJbmRleChcclxuICAgICAgICAoYWNjOiBhbnkpID0+IGFjYy51bmlwaWxlX2FjY291bnRfaWQgPT09IHVuaXBpbGVfYWNjb3VudF9pZFxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QgYWNjb3VudERhdGEgPSB7XHJcbiAgICAgICAgdW5pcGlsZV9hY2NvdW50X2lkLFxyXG4gICAgICAgIHByb3ZpZGVyOiAndW5pcGlsZScsXHJcbiAgICAgICAgaXNBY3RpdmU6IHRydWUsXHJcbiAgICAgICAgbGFzdExvZ2luOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgYWNjb3VudEhlYWx0aDoge1xyXG4gICAgICAgICAgc3RhdHVzOiAnaGVhbHRoeScsXHJcbiAgICAgICAgICBsYXN0Q2hlY2s6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgIHJlc3RyaWN0aW9uczogW11cclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBpZiAoZXhpc3RpbmdJbmRleCA+PSAwKSB7XHJcbiAgICAgICAgdXBkYXRlZExpbmtlZEluQWNjb3VudHNbZXhpc3RpbmdJbmRleF0gPSB7XHJcbiAgICAgICAgICAuLi51cGRhdGVkTGlua2VkSW5BY2NvdW50c1tleGlzdGluZ0luZGV4XSxcclxuICAgICAgICAgIC4uLmFjY291bnREYXRhXHJcbiAgICAgICAgfTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB1cGRhdGVkTGlua2VkSW5BY2NvdW50cy5wdXNoKGFjY291bnREYXRhKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ3VzZXJzJylcclxuICAgICAgICAudXBkYXRlKHsgbGlua2VkaW5fYWNjb3VudHM6IHVwZGF0ZWRMaW5rZWRJbkFjY291bnRzIH0pXHJcbiAgICAgICAgLmVxKCdpZCcsIHVzZXJJZCk7XHJcblxyXG4gICAgICBpZiAodXBkYXRlRXJyb3IpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBzYXZlIExpbmtlZEluIGFjY291bnQnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJlcy5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIG1lc3NhZ2U6ICdMaW5rZWRJbiBhY2NvdW50IGNvbm5lY3RlZCB2aWEgVW5pcGlsZSdcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTGVnYWN5OiBIYW5kbGUgZW1haWwvcGFzc3dvcmQgYXV0aGVudGljYXRpb25cclxuICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgZXJyb3I6ICdMaW5rZWRJbiBlbWFpbCBhbmQgcGFzc3dvcmQgYXJlIHJlcXVpcmVkJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBWYWxpZGF0ZSBlbWFpbCBmb3JtYXRcclxuICAgIGNvbnN0IGVtYWlsUmVnZXggPSAvXlteXFxzQF0rQFteXFxzQF0rXFwuW15cXHNAXSskLztcclxuICAgIGlmICghZW1haWxSZWdleC50ZXN0KGVtYWlsKSkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yOiAnUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcydcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRW5jcnlwdCB0aGUgcGFzc3dvcmRcclxuICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBiY3J5cHQuZ2VuU2FsdCgxMik7XHJcbiAgICBjb25zdCBlbmNyeXB0ZWRQYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCBzYWx0KTtcclxuICAgIFxyXG4gICAgLy8gU3RvcmUgc2Vzc2lvbiB0b2tlbiBhcy1pcyBmb3IgTGlua2VkSW4gYXV0b21hdGlvblxyXG4gICAgY29uc3QgcmF3U2Vzc2lvblRva2VuID0gc2Vzc2lvblRva2VuIHx8IG51bGw7XHJcblxyXG4gICAgLy8gRmluZCB1c2VyIGFuZCB1cGRhdGUgTGlua2VkSW4gYWNjb3VudFxyXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZUFkbWluQ2xpZW50KCk7XHJcbiAgICBjb25zdCB7IGRhdGE6IHVzZXIsIGVycm9yOiB1c2VyRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAuZXEoJ2lkJywgdXNlcklkKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgaWYgKHVzZXJFcnJvciB8fCAhdXNlcikge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yOiAnVXNlciBub3QgZm91bmQnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGlmIExpbmtlZEluIGFjY291bnQgd2l0aCB0aGlzIGVtYWlsIGFscmVhZHkgZXhpc3RzXHJcbiAgICBjb25zdCBleGlzdGluZ0FjY291bnRJbmRleCA9IHVzZXIubGlua2VkaW5fYWNjb3VudHMuZmluZEluZGV4KFxyXG4gICAgICAoYWNjb3VudDogYW55KSA9PiBhY2NvdW50LmVtYWlsID09PSBlbWFpbFxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCB1cGRhdGVkTGlua2VkSW5BY2NvdW50cyA9IFsuLi51c2VyLmxpbmtlZGluX2FjY291bnRzXTtcclxuXHJcbiAgICBpZiAoZXhpc3RpbmdBY2NvdW50SW5kZXggPj0gMCkge1xyXG4gICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgYWNjb3VudFxyXG4gICAgICB1cGRhdGVkTGlua2VkSW5BY2NvdW50c1tleGlzdGluZ0FjY291bnRJbmRleF0gPSB7XHJcbiAgICAgICAgLi4udXBkYXRlZExpbmtlZEluQWNjb3VudHNbZXhpc3RpbmdBY2NvdW50SW5kZXhdLFxyXG4gICAgICAgIGVuY3J5cHRlZFBhc3N3b3JkOiBlbmNyeXB0ZWRQYXNzd29yZCxcclxuICAgICAgICBpc0FjdGl2ZTogdHJ1ZSxcclxuICAgICAgICBzZXNzaW9uVG9rZW46IHJhd1Nlc3Npb25Ub2tlbixcclxuICAgICAgICBsYXN0TG9naW46IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gQWRkIG5ldyBMaW5rZWRJbiBhY2NvdW50XHJcbiAgICAgIHVwZGF0ZWRMaW5rZWRJbkFjY291bnRzLnB1c2goe1xyXG4gICAgICAgIGVtYWlsOiBlbWFpbCxcclxuICAgICAgICBlbmNyeXB0ZWRQYXNzd29yZDogZW5jcnlwdGVkUGFzc3dvcmQsXHJcbiAgICAgICAgaXNBY3RpdmU6IHRydWUsXHJcbiAgICAgICAgc2Vzc2lvblRva2VuOiByYXdTZXNzaW9uVG9rZW4sXHJcbiAgICAgICAgbGFzdExvZ2luOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgYWNjb3VudEhlYWx0aDoge1xyXG4gICAgICAgICAgc3RhdHVzOiAnaGVhbHRoeScsXHJcbiAgICAgICAgICBsYXN0Q2hlY2s6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgIHJlc3RyaWN0aW9uczogW11cclxuICAgICAgICB9LFxyXG4gICAgICAgIGRhaWx5TGltaXRzOiB7XHJcbiAgICAgICAgICBjb25uZWN0aW9uczogNTAsXHJcbiAgICAgICAgICBtZXNzYWdlczogMjUsXHJcbiAgICAgICAgICBwcm9maWxlVmlld3M6IDEwMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGFpbHlVc2FnZToge1xyXG4gICAgICAgICAgY29ubmVjdGlvbnM6IDAsXHJcbiAgICAgICAgICBtZXNzYWdlczogMCxcclxuICAgICAgICAgIHByb2ZpbGVWaWV3czogMCxcclxuICAgICAgICAgIGxhc3RSZXNldDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ3VzZXJzJylcclxuICAgICAgLnVwZGF0ZSh7XHJcbiAgICAgIGxpbmtlZGluX2FjY291bnRzOiB1cGRhdGVkTGlua2VkSW5BY2NvdW50c1xyXG4gICAgICB9KVxyXG4gICAgICAuZXEoJ2lkJywgdXNlcklkKTtcclxuXHJcbiAgICBpZiAodXBkYXRlRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgdXNlcjonLCB1cGRhdGVFcnJvcik7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gc2F2ZSBMaW5rZWRJbiBhY2NvdW50J1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZyhgTGlua2VkSW4gYWNjb3VudCBzYXZlZCBmb3IgdXNlcjogJHt1c2VyLmVtYWlsfWApO1xyXG5cclxuICAgIHJlcy5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogJ0xpbmtlZEluIGFjY291bnQgc2F2ZWQgc3VjY2Vzc2Z1bGx5J1xyXG4gICAgfSk7XHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgTGlua2VkSW4gYWNjb3VudDonLCBlcnJvcik7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogJ0ZhaWxlZCB0byBzYXZlIExpbmtlZEluIGFjY291bnQnXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGhhbmRsZXI7XHJcbiJdLCJuYW1lcyI6WyJqd3QiLCJiY3J5cHQiLCJnZXRTdXBhYmFzZUFkbWluQ2xpZW50IiwiSldUX1NFQ1JFVCIsInByb2Nlc3MiLCJlbnYiLCJORVNUX0FQSV9VUkwiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic2V0SGVhZGVyIiwic3RhdHVzIiwianNvbiIsInN1Y2Nlc3MiLCJlcnJvciIsInRva2VuIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJyZXBsYWNlIiwiZGVjb2RlZCIsInZlcmlmeSIsInVzZXJJZCIsImlkIiwiZW1haWwiLCJwYXNzd29yZCIsInNlc3Npb25Ub2tlbiIsInVzZVVuaXBpbGUiLCJ1bmlwaWxlX2FjY291bnRfaWQiLCJib2R5Iiwic3VwYWJhc2UiLCJkYXRhIiwidXNlciIsInVzZXJFcnJvciIsImZyb20iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsInVwZGF0ZWRMaW5rZWRJbkFjY291bnRzIiwibGlua2VkaW5fYWNjb3VudHMiLCJleGlzdGluZ0luZGV4IiwiZmluZEluZGV4IiwiYWNjIiwiYWNjb3VudERhdGEiLCJwcm92aWRlciIsImlzQWN0aXZlIiwibGFzdExvZ2luIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiYWNjb3VudEhlYWx0aCIsImxhc3RDaGVjayIsInJlc3RyaWN0aW9ucyIsInB1c2giLCJ1cGRhdGVFcnJvciIsInVwZGF0ZSIsIkVycm9yIiwibWVzc2FnZSIsImVtYWlsUmVnZXgiLCJ0ZXN0Iiwic2FsdCIsImdlblNhbHQiLCJlbmNyeXB0ZWRQYXNzd29yZCIsImhhc2giLCJyYXdTZXNzaW9uVG9rZW4iLCJleGlzdGluZ0FjY291bnRJbmRleCIsImFjY291bnQiLCJkYWlseUxpbWl0cyIsImNvbm5lY3Rpb25zIiwibWVzc2FnZXMiLCJwcm9maWxlVmlld3MiLCJkYWlseVVzYWdlIiwibGFzdFJlc2V0IiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/user/linkedin-account.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fuser%2Flinkedin-account&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cuser%5Clinkedin-account.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();