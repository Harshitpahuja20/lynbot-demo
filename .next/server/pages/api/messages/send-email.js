"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/messages/send-email";
exports.ids = ["pages/api/messages/send-email"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("nodemailer");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fmessages%2Fsend-email&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cmessages%5Csend-email.ts&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fmessages%2Fsend-email&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cmessages%5Csend-email.ts&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_messages_send_email_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\messages\\send-email.ts */ \"(api)/./pages/api/messages/send-email.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_messages_send_email_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_messages_send_email_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/messages/send-email\",\n        pathname: \"/api/messages/send-email\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_messages_send_email_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRm1lc3NhZ2VzJTJGc2VuZC1lbWFpbCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDbWVzc2FnZXMlNUNzZW5kLWVtYWlsLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ2tFO0FBQ2xFO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyw4REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsOERBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbHluY2JvdC1uZXh0anMvPzI2MWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxtZXNzYWdlc1xcXFxzZW5kLWVtYWlsLnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvbWVzc2FnZXMvc2VuZC1lbWFpbFwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL21lc3NhZ2VzL3NlbmQtZW1haWxcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fmessages%2Fsend-email&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cmessages%5Csend-email.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/middleware/withAuth.ts":
/*!************************************!*\
  !*** ./lib/middleware/withAuth.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   withAdminAuth: () => (/* binding */ withAdminAuth),\n/* harmony export */   withAuth: () => (/* binding */ withAuth)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../supabase */ \"(api)/./lib/supabase.ts\");\n\n\nconst JWT_SECRET = process.env.JWT_SECRET || \"your-secret-key\";\nfunction withAuth(handler) {\n    return async (req, res)=>{\n        try {\n            const token = req.headers.authorization?.replace(\"Bearer \", \"\");\n            if (!token) {\n                return res.status(401).json({\n                    success: false,\n                    error: \"Access denied. No token provided.\"\n                });\n            }\n            let decoded;\n            try {\n                decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, JWT_SECRET);\n            } catch (jwtError) {\n                console.error(\"JWT verification failed:\", jwtError);\n                return res.status(401).json({\n                    success: false,\n                    error: \"Invalid or expired token.\"\n                });\n            }\n            const supabase = (0,_supabase__WEBPACK_IMPORTED_MODULE_1__.getSupabaseAdminClient)();\n            const { data: user, error: userError } = await supabase.from(\"users\").select(\"*\").eq(\"id\", decoded.id).single();\n            if (userError || !user) {\n                return res.status(401).json({\n                    success: false,\n                    error: \"Invalid token. User not found.\"\n                });\n            }\n            if (!user.is_active) {\n                return res.status(401).json({\n                    success: false,\n                    error: \"Account is deactivated.\"\n                });\n            }\n            req.user = user;\n            return handler(req, res);\n        } catch (error) {\n            console.error(\"Auth middleware error:\", error);\n            return res.status(500).json({\n                success: false,\n                error: \"Server error during authentication.\"\n            });\n        }\n    };\n}\nfunction withAdminAuth(handler) {\n    return withAuth(async (req, res)=>{\n        if (req.user?.role !== \"admin\") {\n            return res.status(403).json({\n                success: false,\n                error: \"Access denied. Admin privileges required.\"\n            });\n        }\n        return handler(req, res);\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvbWlkZGxld2FyZS93aXRoQXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUErQjtBQUVzQjtBQUVyRCxNQUFNRSxhQUFhQyxRQUFRQyxHQUFHLENBQUNGLFVBQVUsSUFBSTtBQVd0QyxTQUFTRyxTQUFTQyxPQUE2QjtJQUNwRCxPQUFPLE9BQU9DLEtBQTJCQztRQUN2QyxJQUFJO1lBQ0YsTUFBTUMsUUFBUUYsSUFBSUcsT0FBTyxDQUFDQyxhQUFhLEVBQUVDLFFBQVEsV0FBVztZQUU1RCxJQUFJLENBQUNILE9BQU87Z0JBQ1YsT0FBT0QsSUFBSUssTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFDMUJDLFNBQVM7b0JBQ1RDLE9BQU87Z0JBQ1Q7WUFDRjtZQUVBLElBQUlDO1lBQ0osSUFBSTtnQkFDRkEsVUFBVWpCLDBEQUFVLENBQUNTLE9BQU9QO1lBQzlCLEVBQUUsT0FBT2lCLFVBQVU7Z0JBQ2pCQyxRQUFRSixLQUFLLENBQUMsNEJBQTRCRztnQkFDMUMsT0FBT1gsSUFBSUssTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFDMUJDLFNBQVM7b0JBQ1RDLE9BQU87Z0JBQ1Q7WUFDRjtZQUVBLE1BQU1LLFdBQVdwQixpRUFBc0JBO1lBQ3ZDLE1BQU0sRUFBRXFCLE1BQU1DLElBQUksRUFBRVAsT0FBT1EsU0FBUyxFQUFFLEdBQUcsTUFBTUgsU0FDNUNJLElBQUksQ0FBQyxTQUNMQyxNQUFNLENBQUMsS0FDUEMsRUFBRSxDQUFDLE1BQU1WLFFBQVFXLEVBQUUsRUFDbkJDLE1BQU07WUFFVCxJQUFJTCxhQUFhLENBQUNELE1BQU07Z0JBQ3RCLE9BQU9mLElBQUlLLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7b0JBQzFCQyxTQUFTO29CQUNUQyxPQUFPO2dCQUNUO1lBQ0Y7WUFFQSxJQUFJLENBQUNPLEtBQUtPLFNBQVMsRUFBRTtnQkFDbkIsT0FBT3RCLElBQUlLLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7b0JBQzFCQyxTQUFTO29CQUNUQyxPQUFPO2dCQUNUO1lBQ0Y7WUFFQVQsSUFBSWdCLElBQUksR0FBR0E7WUFDWCxPQUFPakIsUUFBUUMsS0FBS0M7UUFDdEIsRUFBRSxPQUFPUSxPQUFPO1lBQ2RJLFFBQVFKLEtBQUssQ0FBQywwQkFBMEJBO1lBRXhDLE9BQU9SLElBQUlLLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQzFCQyxTQUFTO2dCQUNUQyxPQUFPO1lBQ1Q7UUFDRjtJQUNGO0FBQ0Y7QUFFTyxTQUFTZSxjQUFjekIsT0FBNkI7SUFDekQsT0FBT0QsU0FBUyxPQUFPRSxLQUEyQkM7UUFDaEQsSUFBSUQsSUFBSWdCLElBQUksRUFBRVMsU0FBUyxTQUFTO1lBQzlCLE9BQU94QixJQUFJSyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUMxQkMsU0FBUztnQkFDVEMsT0FBTztZQUNUO1FBQ0Y7UUFFQSxPQUFPVixRQUFRQyxLQUFLQztJQUN0QjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbHluY2JvdC1uZXh0anMvLi9saWIvbWlkZGxld2FyZS93aXRoQXV0aC50cz9lMTIxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcclxuaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xyXG5pbXBvcnQgeyBnZXRTdXBhYmFzZUFkbWluQ2xpZW50IH0gZnJvbSAnLi4vc3VwYWJhc2UnO1xyXG5cclxuY29uc3QgSldUX1NFQ1JFVCA9IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ3lvdXItc2VjcmV0LWtleSc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEF1dGhlbnRpY2F0ZWRSZXF1ZXN0IGV4dGVuZHMgTmV4dEFwaVJlcXVlc3Qge1xyXG4gIHVzZXI/OiBhbnk7XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIEF1dGhlbnRpY2F0ZWRIYW5kbGVyID0gKFxyXG4gIHJlcTogQXV0aGVudGljYXRlZFJlcXVlc3QsXHJcbiAgcmVzOiBOZXh0QXBpUmVzcG9uc2VcclxuKSA9PiBQcm9taXNlPHZvaWQ+IHwgdm9pZDtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB3aXRoQXV0aChoYW5kbGVyOiBBdXRoZW50aWNhdGVkSGFuZGxlcikge1xyXG4gIHJldHVybiBhc3luYyAocmVxOiBBdXRoZW50aWNhdGVkUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHRva2VuID0gcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbj8ucmVwbGFjZSgnQmVhcmVyICcsICcnKTtcclxuICAgICAgXHJcbiAgICAgIGlmICghdG9rZW4pIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBObyB0b2tlbiBwcm92aWRlZC4nIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgZGVjb2RlZDtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwgSldUX1NFQ1JFVCkgYXMgYW55O1xyXG4gICAgICB9IGNhdGNoIChqd3RFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0pXVCB2ZXJpZmljYXRpb24gZmFpbGVkOicsIGp3dEVycm9yKTtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgZXJyb3I6ICdJbnZhbGlkIG9yIGV4cGlyZWQgdG9rZW4uJyBcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZUFkbWluQ2xpZW50KCk7XHJcbiAgICAgIGNvbnN0IHsgZGF0YTogdXNlciwgZXJyb3I6IHVzZXJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgndXNlcnMnKVxyXG4gICAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAgIC5lcSgnaWQnLCBkZWNvZGVkLmlkKVxyXG4gICAgICAgIC5zaW5nbGUoKTtcclxuICAgICAgXHJcbiAgICAgIGlmICh1c2VyRXJyb3IgfHwgIXVzZXIpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgZXJyb3I6ICdJbnZhbGlkIHRva2VuLiBVc2VyIG5vdCBmb3VuZC4nIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIXVzZXIuaXNfYWN0aXZlKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgXHJcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgIGVycm9yOiAnQWNjb3VudCBpcyBkZWFjdGl2YXRlZC4nIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXEudXNlciA9IHVzZXI7XHJcbiAgICAgIHJldHVybiBoYW5kbGVyKHJlcSwgcmVzKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0F1dGggbWlkZGxld2FyZSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBlcnJvcjogJ1NlcnZlciBlcnJvciBkdXJpbmcgYXV0aGVudGljYXRpb24uJyBcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhBZG1pbkF1dGgoaGFuZGxlcjogQXV0aGVudGljYXRlZEhhbmRsZXIpIHtcclxuICByZXR1cm4gd2l0aEF1dGgoYXN5bmMgKHJlcTogQXV0aGVudGljYXRlZFJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSA9PiB7XHJcbiAgICBpZiAocmVxLnVzZXI/LnJvbGUgIT09ICdhZG1pbicpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKHsgXHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBwcml2aWxlZ2VzIHJlcXVpcmVkLicgXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gaGFuZGxlcihyZXEsIHJlcyk7XHJcbiAgfSk7XHJcbn0iXSwibmFtZXMiOlsiand0IiwiZ2V0U3VwYWJhc2VBZG1pbkNsaWVudCIsIkpXVF9TRUNSRVQiLCJwcm9jZXNzIiwiZW52Iiwid2l0aEF1dGgiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwidG9rZW4iLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsInJlcGxhY2UiLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzcyIsImVycm9yIiwiZGVjb2RlZCIsInZlcmlmeSIsImp3dEVycm9yIiwiY29uc29sZSIsInN1cGFiYXNlIiwiZGF0YSIsInVzZXIiLCJ1c2VyRXJyb3IiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJpZCIsInNpbmdsZSIsImlzX2FjdGl2ZSIsIndpdGhBZG1pbkF1dGgiLCJyb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/middleware/withAuth.ts\n");

/***/ }),

/***/ "(api)/./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: () => (/* binding */ getSupabaseClient),\n/* harmony export */   getSupabaseAdminClient: () => (/* binding */ getSupabaseAdminClient),\n/* harmony export */   getSupabaseClient: () => (/* binding */ getSupabaseClient),\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   supabaseAdmin: () => (/* binding */ supabaseAdmin)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n\n// Client instances (lazy initialization)\nlet _supabase = null;\nlet _supabaseAdmin = null;\nfunction getSupabaseClient() {\n    if (!_supabase) {\n        const supabaseUrl = \"https://djqtqxnvgjjeeazwnyqn.supabase.co\";\n        const supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRqcXRxeG52Z2pqZWVhendueXFuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE1NjM4OTUsImV4cCI6MjA3NzEzOTg5NX0.zQZax1gQYZSUc30y5iGscT7J9wjVQQCZODuUrc6hPzw\";\n        if (!supabaseUrl || !supabaseAnonKey) {\n            console.warn(\"Supabase environment variables not found. Please configure Supabase integration.\");\n            // Return a mock client that won't cause errors\n            return {\n                from: ()=>({\n                        select: ()=>Promise.resolve({\n                                data: [],\n                                error: null\n                            }),\n                        insert: ()=>Promise.resolve({\n                                data: null,\n                                error: {\n                                    message: \"Supabase not configured\"\n                                }\n                            }),\n                        update: ()=>Promise.resolve({\n                                data: null,\n                                error: {\n                                    message: \"Supabase not configured\"\n                                }\n                            }),\n                        delete: ()=>Promise.resolve({\n                                data: null,\n                                error: {\n                                    message: \"Supabase not configured\"\n                                }\n                            })\n                    })\n            };\n        }\n        _supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n    }\n    return _supabase;\n}\nfunction getSupabaseAdminClient() {\n    if (!_supabaseAdmin) {\n        const supabaseUrl = \"https://djqtqxnvgjjeeazwnyqn.supabase.co\";\n        const supabaseServiceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n        if (!supabaseUrl || !supabaseServiceRoleKey) {\n            console.warn(\"Supabase admin environment variables not found. Please configure Supabase integration.\");\n            // Return a mock client that won't cause errors\n            return {\n                from: ()=>({\n                        select: ()=>Promise.resolve({\n                                data: [],\n                                error: null\n                            }),\n                        insert: ()=>Promise.resolve({\n                                data: null,\n                                error: {\n                                    message: \"Supabase not configured\"\n                                }\n                            }),\n                        update: ()=>Promise.resolve({\n                                data: null,\n                                error: {\n                                    message: \"Supabase not configured\"\n                                }\n                            }),\n                        delete: ()=>Promise.resolve({\n                                data: null,\n                                error: {\n                                    message: \"Supabase not configured\"\n                                }\n                            })\n                    })\n            };\n        }\n        _supabaseAdmin = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseServiceRoleKey);\n    }\n    return _supabaseAdmin;\n}\n// Export lazy getters for backward compatibility\nconst supabase = new Proxy({}, {\n    get (target, prop) {\n        return getSupabaseClient()[prop];\n    }\n});\nconst supabaseAdmin = new Proxy({}, {\n    get (target, prop) {\n        return getSupabaseAdminClient()[prop];\n    }\n});\n// Export the client directly for compatibility with utils/supabase.ts\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvc3VwYWJhc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFxRDtBQUdyRCx5Q0FBeUM7QUFDekMsSUFBSUMsWUFBbUM7QUFDdkMsSUFBSUMsaUJBQXdDO0FBRXJDLFNBQVNDO0lBQ2QsSUFBSSxDQUFDRixXQUFXO1FBQ2QsTUFBTUcsY0FBY0MsMENBQW9DO1FBQ3hELE1BQU1HLGtCQUFrQkgsa05BQXlDO1FBRWpFLElBQUksQ0FBQ0QsZUFBZSxDQUFDSSxpQkFBaUI7WUFDcENFLFFBQVFDLElBQUksQ0FBQztZQUNiLCtDQUErQztZQUMvQyxPQUFPO2dCQUNMQyxNQUFNLElBQU87d0JBQ1hDLFFBQVEsSUFBTUMsUUFBUUMsT0FBTyxDQUFDO2dDQUFFQyxNQUFNLEVBQUU7Z0NBQUVDLE9BQU87NEJBQUs7d0JBQ3REQyxRQUFRLElBQU1KLFFBQVFDLE9BQU8sQ0FBQztnQ0FBRUMsTUFBTTtnQ0FBTUMsT0FBTztvQ0FBRUUsU0FBUztnQ0FBMEI7NEJBQUU7d0JBQzFGQyxRQUFRLElBQU1OLFFBQVFDLE9BQU8sQ0FBQztnQ0FBRUMsTUFBTTtnQ0FBTUMsT0FBTztvQ0FBRUUsU0FBUztnQ0FBMEI7NEJBQUU7d0JBQzFGRSxRQUFRLElBQU1QLFFBQVFDLE9BQU8sQ0FBQztnQ0FBRUMsTUFBTTtnQ0FBTUMsT0FBTztvQ0FBRUUsU0FBUztnQ0FBMEI7NEJBQUU7b0JBQzVGO1lBQ0Y7UUFDRjtRQUVBbEIsWUFBWUQsbUVBQVlBLENBQUNJLGFBQWFJO0lBQ3hDO0lBRUEsT0FBT1A7QUFDVDtBQUVPLFNBQVNxQjtJQUNkLElBQUksQ0FBQ3BCLGdCQUFnQjtRQUNuQixNQUFNRSxjQUFjQywwQ0FBb0M7UUFDeEQsTUFBTWtCLHlCQUF5QmxCLFFBQVFDLEdBQUcsQ0FBQ2tCLHlCQUF5QjtRQUVwRSxJQUFJLENBQUNwQixlQUFlLENBQUNtQix3QkFBd0I7WUFDM0NiLFFBQVFDLElBQUksQ0FBQztZQUNiLCtDQUErQztZQUMvQyxPQUFPO2dCQUNMQyxNQUFNLElBQU87d0JBQ1hDLFFBQVEsSUFBTUMsUUFBUUMsT0FBTyxDQUFDO2dDQUFFQyxNQUFNLEVBQUU7Z0NBQUVDLE9BQU87NEJBQUs7d0JBQ3REQyxRQUFRLElBQU1KLFFBQVFDLE9BQU8sQ0FBQztnQ0FBRUMsTUFBTTtnQ0FBTUMsT0FBTztvQ0FBRUUsU0FBUztnQ0FBMEI7NEJBQUU7d0JBQzFGQyxRQUFRLElBQU1OLFFBQVFDLE9BQU8sQ0FBQztnQ0FBRUMsTUFBTTtnQ0FBTUMsT0FBTztvQ0FBRUUsU0FBUztnQ0FBMEI7NEJBQUU7d0JBQzFGRSxRQUFRLElBQU1QLFFBQVFDLE9BQU8sQ0FBQztnQ0FBRUMsTUFBTTtnQ0FBTUMsT0FBTztvQ0FBRUUsU0FBUztnQ0FBMEI7NEJBQUU7b0JBQzVGO1lBQ0Y7UUFDRjtRQUVBakIsaUJBQWlCRixtRUFBWUEsQ0FBQ0ksYUFBYW1CO0lBQzdDO0lBRUEsT0FBT3JCO0FBQ1Q7QUFFQSxpREFBaUQ7QUFDMUMsTUFBTXVCLFdBQVcsSUFBSUMsTUFBTSxDQUFDLEdBQXFCO0lBQ3REQyxLQUFJQyxNQUFNLEVBQUVDLElBQUk7UUFDZCxPQUFPMUIsbUJBQW1CLENBQUMwQixLQUE2QjtJQUMxRDtBQUNGLEdBQUc7QUFFSSxNQUFNQyxnQkFBZ0IsSUFBSUosTUFBTSxDQUFDLEdBQXFCO0lBQzNEQyxLQUFJQyxNQUFNLEVBQUVDLElBQUk7UUFDZCxPQUFPUCx3QkFBd0IsQ0FBQ08sS0FBNkI7SUFDL0Q7QUFDRixHQUFHO0FBRUgsc0VBQXNFO0FBQ3pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbHluY2JvdC1uZXh0anMvLi9saWIvc3VwYWJhc2UudHM/Yzk5ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xyXG5pbXBvcnQgdHlwZSB7IFN1cGFiYXNlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcclxuXHJcbi8vIENsaWVudCBpbnN0YW5jZXMgKGxhenkgaW5pdGlhbGl6YXRpb24pXHJcbmxldCBfc3VwYWJhc2U6IFN1cGFiYXNlQ2xpZW50IHwgbnVsbCA9IG51bGw7XHJcbmxldCBfc3VwYWJhc2VBZG1pbjogU3VwYWJhc2VDbGllbnQgfCBudWxsID0gbnVsbDtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdXBhYmFzZUNsaWVudCgpOiBTdXBhYmFzZUNsaWVudCB7XHJcbiAgaWYgKCFfc3VwYWJhc2UpIHtcclxuICAgIGNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMO1xyXG4gICAgY29uc3Qgc3VwYWJhc2VBbm9uS2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVk7XHJcblxyXG4gICAgaWYgKCFzdXBhYmFzZVVybCB8fCAhc3VwYWJhc2VBbm9uS2V5KSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignU3VwYWJhc2UgZW52aXJvbm1lbnQgdmFyaWFibGVzIG5vdCBmb3VuZC4gUGxlYXNlIGNvbmZpZ3VyZSBTdXBhYmFzZSBpbnRlZ3JhdGlvbi4nKTtcclxuICAgICAgLy8gUmV0dXJuIGEgbW9jayBjbGllbnQgdGhhdCB3b24ndCBjYXVzZSBlcnJvcnNcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBmcm9tOiAoKSA9PiAoe1xyXG4gICAgICAgICAgc2VsZWN0OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBkYXRhOiBbXSwgZXJyb3I6IG51bGwgfSksXHJcbiAgICAgICAgICBpbnNlcnQ6ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IGRhdGE6IG51bGwsIGVycm9yOiB7IG1lc3NhZ2U6ICdTdXBhYmFzZSBub3QgY29uZmlndXJlZCcgfSB9KSxcclxuICAgICAgICAgIHVwZGF0ZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgZGF0YTogbnVsbCwgZXJyb3I6IHsgbWVzc2FnZTogJ1N1cGFiYXNlIG5vdCBjb25maWd1cmVkJyB9IH0pLFxyXG4gICAgICAgICAgZGVsZXRlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBkYXRhOiBudWxsLCBlcnJvcjogeyBtZXNzYWdlOiAnU3VwYWJhc2Ugbm90IGNvbmZpZ3VyZWQnIH0gfSlcclxuICAgICAgICB9KVxyXG4gICAgICB9IGFzIGFueTtcclxuICAgIH1cclxuXHJcbiAgICBfc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlQW5vbktleSk7XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBfc3VwYWJhc2U7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdXBhYmFzZUFkbWluQ2xpZW50KCk6IFN1cGFiYXNlQ2xpZW50IHtcclxuICBpZiAoIV9zdXBhYmFzZUFkbWluKSB7XHJcbiAgICBjb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTDtcclxuICAgIGNvbnN0IHN1cGFiYXNlU2VydmljZVJvbGVLZXkgPSBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZO1xyXG5cclxuICAgIGlmICghc3VwYWJhc2VVcmwgfHwgIXN1cGFiYXNlU2VydmljZVJvbGVLZXkpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdTdXBhYmFzZSBhZG1pbiBlbnZpcm9ubWVudCB2YXJpYWJsZXMgbm90IGZvdW5kLiBQbGVhc2UgY29uZmlndXJlIFN1cGFiYXNlIGludGVncmF0aW9uLicpO1xyXG4gICAgICAvLyBSZXR1cm4gYSBtb2NrIGNsaWVudCB0aGF0IHdvbid0IGNhdXNlIGVycm9yc1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGZyb206ICgpID0+ICh7XHJcbiAgICAgICAgICBzZWxlY3Q6ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IGRhdGE6IFtdLCBlcnJvcjogbnVsbCB9KSxcclxuICAgICAgICAgIGluc2VydDogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgZGF0YTogbnVsbCwgZXJyb3I6IHsgbWVzc2FnZTogJ1N1cGFiYXNlIG5vdCBjb25maWd1cmVkJyB9IH0pLFxyXG4gICAgICAgICAgdXBkYXRlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBkYXRhOiBudWxsLCBlcnJvcjogeyBtZXNzYWdlOiAnU3VwYWJhc2Ugbm90IGNvbmZpZ3VyZWQnIH0gfSksXHJcbiAgICAgICAgICBkZWxldGU6ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IGRhdGE6IG51bGwsIGVycm9yOiB7IG1lc3NhZ2U6ICdTdXBhYmFzZSBub3QgY29uZmlndXJlZCcgfSB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0gYXMgYW55O1xyXG4gICAgfVxyXG5cclxuICAgIF9zdXBhYmFzZUFkbWluID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZVNlcnZpY2VSb2xlS2V5KTtcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIF9zdXBhYmFzZUFkbWluO1xyXG59XHJcblxyXG4vLyBFeHBvcnQgbGF6eSBnZXR0ZXJzIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XHJcbmV4cG9ydCBjb25zdCBzdXBhYmFzZSA9IG5ldyBQcm94eSh7fSBhcyBTdXBhYmFzZUNsaWVudCwge1xyXG4gIGdldCh0YXJnZXQsIHByb3ApIHtcclxuICAgIHJldHVybiBnZXRTdXBhYmFzZUNsaWVudCgpW3Byb3AgYXMga2V5b2YgU3VwYWJhc2VDbGllbnRdO1xyXG4gIH1cclxufSk7XHJcblxyXG5leHBvcnQgY29uc3Qgc3VwYWJhc2VBZG1pbiA9IG5ldyBQcm94eSh7fSBhcyBTdXBhYmFzZUNsaWVudCwge1xyXG4gIGdldCh0YXJnZXQsIHByb3ApIHtcclxuICAgIHJldHVybiBnZXRTdXBhYmFzZUFkbWluQ2xpZW50KClbcHJvcCBhcyBrZXlvZiBTdXBhYmFzZUNsaWVudF07XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vIEV4cG9ydCB0aGUgY2xpZW50IGRpcmVjdGx5IGZvciBjb21wYXRpYmlsaXR5IHdpdGggdXRpbHMvc3VwYWJhc2UudHNcclxuZXhwb3J0IHsgZ2V0U3VwYWJhc2VDbGllbnQgYXMgY3JlYXRlQ2xpZW50IH07Il0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsIl9zdXBhYmFzZSIsIl9zdXBhYmFzZUFkbWluIiwiZ2V0U3VwYWJhc2VDbGllbnQiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZUFub25LZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImNvbnNvbGUiLCJ3YXJuIiwiZnJvbSIsInNlbGVjdCIsIlByb21pc2UiLCJyZXNvbHZlIiwiZGF0YSIsImVycm9yIiwiaW5zZXJ0IiwibWVzc2FnZSIsInVwZGF0ZSIsImRlbGV0ZSIsImdldFN1cGFiYXNlQWRtaW5DbGllbnQiLCJzdXBhYmFzZVNlcnZpY2VSb2xlS2V5IiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsInN1cGFiYXNlIiwiUHJveHkiLCJnZXQiLCJ0YXJnZXQiLCJwcm9wIiwic3VwYWJhc2VBZG1pbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/supabase.ts\n");

/***/ }),

/***/ "(api)/./pages/api/messages/send-email.ts":
/*!******************************************!*\
  !*** ./pages/api/messages/send-email.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"nodemailer\");\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(nodemailer__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_middleware_withAuth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/middleware/withAuth */ \"(api)/./lib/middleware/withAuth.ts\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/supabase */ \"(api)/./lib/supabase.ts\");\n\n\n\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        res.setHeader(\"Allow\", [\n            \"POST\"\n        ]);\n        return res.status(405).json({\n            success: false,\n            error: \"Method not allowed\"\n        });\n    }\n    try {\n        const { to, from, subject, content, prospectId } = req.body;\n        if (!to || !subject || !content) {\n            return res.status(400).json({\n                success: false,\n                error: \"to, subject and content are required\"\n            });\n        }\n        const userId = req.user.id;\n        let emailAccount = null;\n        let transportConfig = {\n            service: \"gmail\",\n            auth: {\n                user: \"wsite404@gmail.com\",\n                pass: \"lfegfqhccqkkjaqb\"\n            }\n        };\n        // If from email specified, get user's email account\n        if (from) {\n            const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.getSupabaseAdminClient)();\n            const { data: user } = await supabase.from(\"users\").select(\"email_accounts\").eq(\"id\", userId).single();\n            if (user?.email_accounts) {\n                emailAccount = user.email_accounts.find((acc)=>acc.email === from);\n                if (emailAccount) {\n                    const password = emailAccount.encryptedPassword || \"lfegfqhccqkkjaqb\";\n                    console.log(`Using email account for ${emailAccount.email} ${password}`);\n                    // Use custom SMTP settings if provided\n                    if (emailAccount.smtpSettings) {\n                        transportConfig = {\n                            host: emailAccount.smtpSettings.host,\n                            port: emailAccount.smtpSettings.port,\n                            secure: emailAccount.smtpSettings.secure,\n                            auth: {\n                                user: emailAccount.email,\n                                pass: password\n                            }\n                        };\n                    } else if (emailAccount.provider === \"gmail\") {\n                        transportConfig = {\n                            service: \"gmail\",\n                            auth: {\n                                user: emailAccount.email,\n                                pass: password\n                            }\n                        };\n                    } else if (emailAccount.provider === \"outlook\") {\n                        transportConfig = {\n                            host: \"smtp-mail.outlook.com\",\n                            port: 587,\n                            secure: false,\n                            auth: {\n                                user: emailAccount.email,\n                                pass: password\n                            }\n                        };\n                    }\n                }\n            }\n        }\n        const transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0___default().createTransport(transportConfig);\n        const mailOptions = {\n            from: from || `\"Lync Bot\" <${\"wsite404@gmail.com\"}>`,\n            to,\n            subject,\n            text: content,\n            html: (content || \"\").replace(/\\n/g, \"<br>\")\n        };\n        const info = await transporter.sendMail(mailOptions);\n        // Save to sent_emails table\n        try {\n            const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.getSupabaseAdminClient)();\n            await supabase.from(\"sent_emails\").insert({\n                user_id: userId,\n                from_email: from || \"wsite404@gmail.com\",\n                to_email: to,\n                subject,\n                content,\n                message_id: info.messageId,\n                status: \"sent\",\n                sent_at: new Date().toISOString()\n            });\n        } catch (dbError) {\n            console.error(\"Error saving to database:\", dbError);\n        }\n        return res.status(200).json({\n            success: true,\n            messageId: info.messageId\n        });\n    } catch (error) {\n        console.error(\"Error sending email via send-email API:\", error);\n        return res.status(500).json({\n            success: false,\n            error: \"Failed to send email\"\n        });\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_middleware_withAuth__WEBPACK_IMPORTED_MODULE_1__.withAuth)(handler));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TyxDQUFDLE9BQU87UUFDdkM7UUFFQSxNQUFNQyxPQUFPLE1BQU1OLFlBQVlPLFFBQVEsQ0FBQ0w7UUFFeEMsNEJBQTRCO1FBQzVCLElBQUk7WUFDRixNQUFNcEIsV0FBVzVCLHFFQUFzQkE7WUFDdkMsTUFBTTRCLFNBQVNqQixJQUFJLENBQUMsZUFBZTJDLE1BQU0sQ0FBQztnQkFDeENDLFNBQVN2QztnQkFDVHdDLFlBQVk3QyxRQUFRWSxvQkFBaUM7Z0JBQ3JEa0MsVUFBVS9DO2dCQUNWRTtnQkFDQUM7Z0JBQ0E2QyxZQUFZTixLQUFLTyxTQUFTO2dCQUMxQnJELFFBQVE7Z0JBQ1JzRCxTQUFTLElBQUlDLE9BQU9DLFdBQVc7WUFDakM7UUFDRixFQUFFLE9BQU9DLFNBQVM7WUFDaEJ4QixRQUFROUIsS0FBSyxDQUFDLDZCQUE2QnNEO1FBQzdDO1FBRUEsT0FBTzVELElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsU0FBUztZQUFNbUQsV0FBV1AsS0FBS08sU0FBUztRQUFDO0lBQ3pFLEVBQUUsT0FBT2xELE9BQU87UUFDZDhCLFFBQVE5QixLQUFLLENBQUMsMkNBQTJDQTtRQUN6RCxPQUFPTixJQUFJRyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLFNBQVM7WUFBT0MsT0FBTztRQUF1QjtJQUM5RTtBQUNGO0FBRUEsaUVBQWVWLGtFQUFRQSxDQUFDRSxRQUFRQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbHluY2JvdC1uZXh0anMvLi9wYWdlcy9hcGkvbWVzc2FnZXMvc2VuZC1lbWFpbC50cz9lZTczIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XHJcbmltcG9ydCBub2RlbWFpbGVyIGZyb20gJ25vZGVtYWlsZXInO1xyXG5pbXBvcnQgeyB3aXRoQXV0aCwgQXV0aGVudGljYXRlZFJlcXVlc3QgfSBmcm9tICcuLi8uLi8uLi9saWIvbWlkZGxld2FyZS93aXRoQXV0aCc7XHJcbmltcG9ydCB7IGdldFN1cGFiYXNlQWRtaW5DbGllbnQgfSBmcm9tICcuLi8uLi8uLi9saWIvc3VwYWJhc2UnO1xyXG5pbXBvcnQgeyBtZXNzYWdlT3BlcmF0aW9ucyB9IGZyb20gJy4uLy4uLy4uL2xpYi9kYXRhYmFzZSc7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcTogQXV0aGVudGljYXRlZFJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XHJcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdQT1NUJykge1xyXG4gICAgcmVzLnNldEhlYWRlcignQWxsb3cnLCBbJ1BPU1QnXSk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdG8sIGZyb20sIHN1YmplY3QsIGNvbnRlbnQsIHByb3NwZWN0SWQgfSA9IHJlcS5ib2R5O1xyXG4gICAgaWYgKCF0byB8fCAhc3ViamVjdCB8fCAhY29udGVudCkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICd0bywgc3ViamVjdCBhbmQgY29udGVudCBhcmUgcmVxdWlyZWQnIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHVzZXJJZCA9IHJlcS51c2VyLmlkO1xyXG4gICAgbGV0IGVtYWlsQWNjb3VudDogYW55ID0gbnVsbDtcclxuICAgIGxldCB0cmFuc3BvcnRDb25maWc6IGFueSA9IHtcclxuICAgICAgc2VydmljZTogJ2dtYWlsJyxcclxuICAgICAgYXV0aDoge1xyXG4gICAgICAgIHVzZXI6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NNVFBfVVNFUixcclxuICAgICAgICBwYXNzOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TTVRQX1BBU1NcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBJZiBmcm9tIGVtYWlsIHNwZWNpZmllZCwgZ2V0IHVzZXIncyBlbWFpbCBhY2NvdW50XHJcbiAgICBpZiAoZnJvbSkge1xyXG4gICAgICBjb25zdCBzdXBhYmFzZSA9IGdldFN1cGFiYXNlQWRtaW5DbGllbnQoKTtcclxuICAgICAgY29uc3QgeyBkYXRhOiB1c2VyIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgICAgLnNlbGVjdCgnZW1haWxfYWNjb3VudHMnKVxyXG4gICAgICAgIC5lcSgnaWQnLCB1c2VySWQpXHJcbiAgICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgICAgaWYgKHVzZXI/LmVtYWlsX2FjY291bnRzKSB7XHJcbiAgICAgICAgZW1haWxBY2NvdW50ID0gdXNlci5lbWFpbF9hY2NvdW50cy5maW5kKChhY2M6IGFueSkgPT4gYWNjLmVtYWlsID09PSBmcm9tKTtcclxuICAgICAgICBpZiAoZW1haWxBY2NvdW50KSB7XHJcbiAgICAgICAgICBjb25zdCBwYXNzd29yZCA9IGVtYWlsQWNjb3VudC5lbmNyeXB0ZWRQYXNzd29yZCB8fCBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TTVRQX1BBU1M7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhgVXNpbmcgZW1haWwgYWNjb3VudCBmb3IgJHtlbWFpbEFjY291bnQuZW1haWx9ICR7cGFzc3dvcmR9YCk7XHJcbiAgICAgICAgICAvLyBVc2UgY3VzdG9tIFNNVFAgc2V0dGluZ3MgaWYgcHJvdmlkZWRcclxuICAgICAgICAgIGlmIChlbWFpbEFjY291bnQuc210cFNldHRpbmdzKSB7XHJcbiAgICAgICAgICAgIHRyYW5zcG9ydENvbmZpZyA9IHtcclxuICAgICAgICAgICAgICBob3N0OiBlbWFpbEFjY291bnQuc210cFNldHRpbmdzLmhvc3QsXHJcbiAgICAgICAgICAgICAgcG9ydDogZW1haWxBY2NvdW50LnNtdHBTZXR0aW5ncy5wb3J0LFxyXG4gICAgICAgICAgICAgIHNlY3VyZTogZW1haWxBY2NvdW50LnNtdHBTZXR0aW5ncy5zZWN1cmUsXHJcbiAgICAgICAgICAgICAgYXV0aDoge1xyXG4gICAgICAgICAgICAgICAgdXNlcjogZW1haWxBY2NvdW50LmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgcGFzczogcGFzc3dvcmRcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGVtYWlsQWNjb3VudC5wcm92aWRlciA9PT0gJ2dtYWlsJykge1xyXG4gICAgICAgICAgICB0cmFuc3BvcnRDb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgc2VydmljZTogJ2dtYWlsJyxcclxuICAgICAgICAgICAgICBhdXRoOiB7XHJcbiAgICAgICAgICAgICAgICB1c2VyOiBlbWFpbEFjY291bnQuZW1haWwsXHJcbiAgICAgICAgICAgICAgICBwYXNzOiBwYXNzd29yZFxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoZW1haWxBY2NvdW50LnByb3ZpZGVyID09PSAnb3V0bG9vaycpIHtcclxuICAgICAgICAgICAgdHJhbnNwb3J0Q29uZmlnID0ge1xyXG4gICAgICAgICAgICAgIGhvc3Q6ICdzbXRwLW1haWwub3V0bG9vay5jb20nLFxyXG4gICAgICAgICAgICAgIHBvcnQ6IDU4NyxcclxuICAgICAgICAgICAgICBzZWN1cmU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgIGF1dGg6IHtcclxuICAgICAgICAgICAgICAgIHVzZXI6IGVtYWlsQWNjb3VudC5lbWFpbCxcclxuICAgICAgICAgICAgICAgIHBhc3M6IHBhc3N3b3JkXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQodHJhbnNwb3J0Q29uZmlnKTtcclxuXHJcbiAgICBjb25zdCBtYWlsT3B0aW9ucyA9IHtcclxuICAgICAgZnJvbTogZnJvbSB8fCBgXCJMeW5jIEJvdFwiIDwke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NNVFBfVVNFUn0+YCxcclxuICAgICAgdG8sXHJcbiAgICAgIHN1YmplY3QsXHJcbiAgICAgIHRleHQ6IGNvbnRlbnQsXHJcbiAgICAgIGh0bWw6IChjb250ZW50IHx8ICcnKS5yZXBsYWNlKC9cXG4vZywgJzxicj4nKVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBpbmZvID0gYXdhaXQgdHJhbnNwb3J0ZXIuc2VuZE1haWwobWFpbE9wdGlvbnMpO1xyXG5cclxuICAgIC8vIFNhdmUgdG8gc2VudF9lbWFpbHMgdGFibGVcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2VBZG1pbkNsaWVudCgpO1xyXG4gICAgICBhd2FpdCBzdXBhYmFzZS5mcm9tKCdzZW50X2VtYWlscycpLmluc2VydCh7XHJcbiAgICAgICAgdXNlcl9pZDogdXNlcklkLFxyXG4gICAgICAgIGZyb21fZW1haWw6IGZyb20gfHwgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU01UUF9VU0VSLFxyXG4gICAgICAgIHRvX2VtYWlsOiB0byxcclxuICAgICAgICBzdWJqZWN0LFxyXG4gICAgICAgIGNvbnRlbnQsXHJcbiAgICAgICAgbWVzc2FnZV9pZDogaW5mby5tZXNzYWdlSWQsXHJcbiAgICAgICAgc3RhdHVzOiAnc2VudCcsXHJcbiAgICAgICAgc2VudF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZGJFcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgdG8gZGF0YWJhc2U6JywgZGJFcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZUlkOiBpbmZvLm1lc3NhZ2VJZCB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VuZGluZyBlbWFpbCB2aWEgc2VuZC1lbWFpbCBBUEk6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRmFpbGVkIHRvIHNlbmQgZW1haWwnIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgd2l0aEF1dGgoaGFuZGxlcik7XHJcbiJdLCJuYW1lcyI6WyJub2RlbWFpbGVyIiwid2l0aEF1dGgiLCJnZXRTdXBhYmFzZUFkbWluQ2xpZW50IiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInNldEhlYWRlciIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwiZXJyb3IiLCJ0byIsImZyb20iLCJzdWJqZWN0IiwiY29udGVudCIsInByb3NwZWN0SWQiLCJib2R5IiwidXNlcklkIiwidXNlciIsImlkIiwiZW1haWxBY2NvdW50IiwidHJhbnNwb3J0Q29uZmlnIiwic2VydmljZSIsImF1dGgiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU01UUF9VU0VSIiwicGFzcyIsIk5FWFRfUFVCTElDX1NNVFBfUEFTUyIsInN1cGFiYXNlIiwiZGF0YSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwiZW1haWxfYWNjb3VudHMiLCJmaW5kIiwiYWNjIiwiZW1haWwiLCJwYXNzd29yZCIsImVuY3J5cHRlZFBhc3N3b3JkIiwiY29uc29sZSIsImxvZyIsInNtdHBTZXR0aW5ncyIsImhvc3QiLCJwb3J0Iiwic2VjdXJlIiwicHJvdmlkZXIiLCJ0cmFuc3BvcnRlciIsImNyZWF0ZVRyYW5zcG9ydCIsIm1haWxPcHRpb25zIiwidGV4dCIsImh0bWwiLCJyZXBsYWNlIiwiaW5mbyIsInNlbmRNYWlsIiwiaW5zZXJ0IiwidXNlcl9pZCIsImZyb21fZW1haWwiLCJ0b19lbWFpbCIsIm1lc3NhZ2VfaWQiLCJtZXNzYWdlSWQiLCJzZW50X2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZGJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/messages/send-email.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fmessages%2Fsend-email&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cmessages%5Csend-email.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();